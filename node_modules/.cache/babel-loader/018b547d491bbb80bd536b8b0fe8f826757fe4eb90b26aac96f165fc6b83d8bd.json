{"ast":null,"code":"import _slicedToArray from\"C:/Users/yashb/Desktop/HTML,CSS,JAVA_SCRIPT WORK/WEB PROJECTS/E-Commerce With Api/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./Search.scss\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{MdClose}from\"react-icons/md\";import useFetch from\"../../../hooks/useFetch\";import prod from\"../../../assets/products/earbuds-prod-1.webp\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(_ref){var _data,_data$data;var setShowSearch=_ref.setShowSearch;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var navigate=useNavigate();var onChange=function onChange(e){setQuery(e.target.value);};var _useFetch=useFetch(\"/api/products?populate=*&filters[title][$contains]=\".concat(query)),data=_useFetch.data;if(!query.length){data=null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"search-model\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoFocus:true,placeholder:\"Search Products\",value:query,onChange:onChange}),/*#__PURE__*/_jsx(MdClose,{className:\"close-btn\",onClick:function onClick(){return setShowSearch(false);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-result-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:(_data=data)===null||_data===void 0?void 0:(_data$data=_data.data)===null||_data$data===void 0?void 0:_data$data.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"search-result-item\",onClick:function onClick(){navigate(\"/product/\"+item.id);setShowSearch(false);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-container\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_DEV_URL+item.attributes.img.data[0].attributes.url,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"prod-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:item.attributes.title}),/*#__PURE__*/_jsx(\"span\",{className:\"desc\",children:item.attributes.desc})]})]},item.id);})})})]});};export default Search;","map":{"version":3,"names":["useState","useNavigate","MdClose","useFetch","prod","jsx","_jsx","jsxs","_jsxs","Search","_ref","_data","_data$data","setShowSearch","_useState","_useState2","_slicedToArray","query","setQuery","navigate","onChange","e","target","value","_useFetch","concat","data","length","className","children","type","autoFocus","placeholder","onClick","map","item","id","src","process","env","REACT_APP_DEV_URL","attributes","img","url","alt","title","desc"],"sources":["C:/Users/yashb/Desktop/HTML,CSS,JAVA_SCRIPT WORK/WEB PROJECTS/E-Commerce With Api/client/src/components/Header/Search/Search.jsx"],"sourcesContent":["import \"./Search.scss\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { MdClose } from \"react-icons/md\";\nimport useFetch from \"../../../hooks/useFetch\";\nimport prod from \"../../../assets/products/earbuds-prod-1.webp\";\nconst Search = ({ setShowSearch }) => {\n  const [query, setQuery] = useState(\"\");\n  const navigate = useNavigate();\n\n  const onChange = (e) => {\n    setQuery(e.target.value);\n  };\n\n  let { data } = useFetch(\n    `/api/products?populate=*&filters[title][$contains]=${query}`\n  );\n\n  if (!query.length) {\n    data = null;\n  }\n  return (\n    <div className=\"search-model\">\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          autoFocus\n          placeholder=\"Search Products\"\n          value={query}\n          onChange={onChange}\n        />\n        <MdClose className=\"close-btn\" onClick={() => setShowSearch(false)} />\n      </div>\n\n      <div className=\"search-result-content\">\n        <div className=\"search-results\">\n          {data?.data?.map((item) => (\n            <div\n              key={item.id}\n              className=\"search-result-item\"\n              onClick={() => {\n                navigate(\"/product/\" + item.id);\n                setShowSearch(false);\n              }}\n            >\n              <div className=\"img-container\">\n                <img\n                  src={\n                    process.env.REACT_APP_DEV_URL +\n                    item.attributes.img.data[0].attributes.url\n                  }\n                  alt=\"\"\n                />\n              </div>\n              <div className=\"prod-details\">\n                <span className=\"name\">{item.attributes.title}</span>\n                <span className=\"desc\">{item.attributes.desc}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}